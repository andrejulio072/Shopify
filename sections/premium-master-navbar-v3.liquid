<!--
========================================
🏆 PREMIUM MASTER NAVBAR V3.0
World-Class International Standards
Inspired by: Gymshark, Nike, Lululemon, Myprotein
Ultra-Premium Design | Maximum Conversion
========================================
-->

<link rel="stylesheet" href="{{ 'premium-v2.css' | asset_url }}">

<style>
  /* ========================================
     🎨 PREMIUM MASTER NAVBAR VARIABLES
  ======================================== */
  :root {
    --navbar-height: 80px;
    --navbar-bg: rgba(0, 0, 0, 0.95);
    --navbar-glass: rgba(255, 255, 255, 0.05);
    --navbar-blur: blur(30px);
    --navbar-shadow: 0 4px 30px rgba(0, 0, 0, 0.4);
  }

  /* ========================================
     🚀 ANNOUNCEMENT BAR - Premium Gradient
  ======================================== */
  .premium-announcement-bar {
    background: linear-gradient(135deg,
      #007AFF 0%,
      #0056CC 25%,
      #30D158 75%,
      #00C853 100%
    );
    background-size: 200% 200%;
    animation: gradient-shift 8s ease infinite;
    padding: 12px 0;
    position: relative;
    overflow: hidden;
  }

  @keyframes gradient-shift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  .announcement-content {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    color: white;
    font-size: 14px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    animation: fade-slide-in 1s ease-out;
  }

  .announcement-icon {
    font-size: 18px;
    animation: pulse-scale 2s ease-in-out infinite;
  }

  @keyframes pulse-scale {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.2); }
  }

  /* ========================================
     💎 MAIN NAVBAR - Glass Morphism Effect
  ======================================== */
  .premium-master-navbar {
    position: sticky;
    top: 0;
    z-index: 9999;
    background: var(--navbar-bg);
    backdrop-filter: var(--navbar-blur);
    -webkit-backdrop-filter: var(--navbar-blur);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: var(--navbar-shadow);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .navbar-scrolled {
    background: rgba(0, 0, 0, 0.98);
    box-shadow: 0 8px 50px rgba(0, 0, 0, 0.6);
    border-bottom: 1px solid rgba(0, 122, 255, 0.3);
  }

  .navbar-container {
    max-width: 1600px;
    margin: 0 auto;
    padding: 0 40px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    height: var(--navbar-height);
    gap: 60px;
  }

  /* ========================================
     🎯 LOGO SECTION - Brand Power
  ======================================== */
  .navbar-logo {
    display: flex;
    align-items: center;
    gap: 12px;
    text-decoration: none;
    transition: all 0.3s ease;
  }

  .logo-icon {
    width: 50px;
    height: 50px;
    background: linear-gradient(135deg, #007AFF 0%, #30D158 100%);
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    font-weight: 900;
    color: white;
    box-shadow: 0 4px 20px rgba(0, 122, 255, 0.4);
    transition: all 0.3s ease;
  }

  .navbar-logo:hover .logo-icon {
    transform: scale(1.1) rotate(-5deg);
    box-shadow: 0 8px 30px rgba(0, 122, 255, 0.6);
  }

  .logo-text {
    font-size: 28px;
    font-weight: 900;
    background: linear-gradient(135deg, #ffffff 0%, #007AFF 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    text-transform: uppercase;
    letter-spacing: -0.03em;
  }

  /* ========================================
     🎨 NAVIGATION MENU - Pro Layout
  ======================================== */
  .navbar-menu {
    display: flex;
    align-items: center;
    list-style: none;
    margin: 0;
    padding: 0;
    gap: 8px;
    flex: 1;
    justify-content: center;
  }

  .nav-item {
    position: relative;
  }

  .nav-link {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 12px 24px;
    color: rgba(255, 255, 255, 0.9);
    font-size: 15px;
    font-weight: 600;
    text-decoration: none;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    border-radius: 10px;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
  }

  .nav-link::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, rgba(0, 122, 255, 0.15) 0%, rgba(48, 209, 88, 0.15) 100%);
    opacity: 0;
    transition: opacity 0.3s ease;
    border-radius: 10px;
  }

  .nav-link:hover {
    color: #ffffff;
    transform: translateY(-2px);
  }

  .nav-link:hover::before {
    opacity: 1;
  }

  .nav-link.active {
    background: linear-gradient(135deg, rgba(0, 122, 255, 0.2) 0%, rgba(48, 209, 88, 0.2) 100%);
    color: #ffffff;
    box-shadow: 0 4px 15px rgba(0, 122, 255, 0.3);
  }

  /* ========================================
     🔥 MEGA MENU - Premium Dropdown
  ======================================== */
  .mega-menu {
    position: absolute;
    top: calc(100% + 15px);
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0, 0, 0, 0.95);
    backdrop-filter: blur(30px);
    border-radius: 20px;
    padding: 40px;
    min-width: 800px;
    box-shadow: 0 20px 80px rgba(0, 0, 0, 0.8);
    border: 1px solid rgba(255, 255, 255, 0.1);
    opacity: 0;
    visibility: hidden;
    transform: translateX(-50%) translateY(-10px);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 10000;
  }

  .nav-item:hover .mega-menu {
    opacity: 1;
    visibility: visible;
    transform: translateX(-50%) translateY(0);
  }

  .mega-menu-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 30px;
  }

  .mega-menu-column h4 {
    color: #007AFF;
    font-size: 14px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    margin-bottom: 20px;
  }

  .mega-menu-links {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .mega-menu-links li {
    margin-bottom: 12px;
  }

  .mega-menu-links a {
    color: rgba(255, 255, 255, 0.7);
    font-size: 14px;
    font-weight: 500;
    text-decoration: none;
    transition: all 0.2s ease;
    display: block;
    padding: 8px 0;
  }

  .mega-menu-links a:hover {
    color: #ffffff;
    transform: translateX(5px);
  }

  /* ========================================
     💎 ACTION BUTTONS - Premium CTAs
  ======================================== */
  .navbar-actions {
    display: flex;
    align-items: center;
    gap: 20px;
  }

  .action-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 45px;
    height: 45px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    color: rgba(255, 255, 255, 0.9);
    font-size: 20px;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    text-decoration: none;
  }

  .action-btn:hover {
    background: linear-gradient(135deg, rgba(0, 122, 255, 0.3) 0%, rgba(48, 209, 88, 0.3) 100%);
    border-color: rgba(0, 122, 255, 0.5);
    transform: translateY(-3px) scale(1.05);
    box-shadow: 0 8px 25px rgba(0, 122, 255, 0.4);
  }

  .cart-count {
    position: absolute;
    top: -8px;
    right: -8px;
    background: linear-gradient(135deg, #FF3B30 0%, #FF9500 100%);
    color: white;
    font-size: 11px;
    font-weight: 700;
    padding: 3px 7px;
    border-radius: 10px;
    min-width: 20px;
    text-align: center;
    box-shadow: 0 2px 10px rgba(255, 59, 48, 0.5);
    animation: bounce-in 0.5s ease-out;
  }

  @keyframes bounce-in {
    0% { transform: scale(0); }
    50% { transform: scale(1.2); }
    100% { transform: scale(1); }
  }

  .cta-button {
    padding: 12px 32px;
    background: linear-gradient(135deg, #007AFF 0%, #0056CC 100%);
    color: white;
    font-size: 14px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    border: none;
    border-radius: 12px;
    cursor: pointer;
    box-shadow: 0 4px 20px rgba(0, 122, 255, 0.4);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    text-decoration: none;
    display: inline-block;
  }

  .cta-button:hover {
    background: linear-gradient(135deg, #0056CC 0%, #003D99 100%);
    transform: translateY(-3px);
    box-shadow: 0 8px 30px rgba(0, 122, 255, 0.6);
  }

  /* ========================================
     📱 MOBILE MENU TOGGLE
  ======================================== */
  .mobile-menu-toggle {
    display: none;
    flex-direction: column;
    gap: 5px;
    background: none;
    border: none;
    cursor: pointer;
    padding: 8px;
  }

  .mobile-menu-toggle span {
    width: 28px;
    height: 3px;
    background: white;
    border-radius: 3px;
    transition: all 0.3s ease;
  }

  /* ========================================
     📱 RESPONSIVE DESIGN
  ======================================== */
  @media (max-width: 1200px) {
    .navbar-menu {
      display: none;
    }

    .mobile-menu-toggle {
      display: flex;
    }

    .navbar-container {
      padding: 0 20px;
      gap: 20px;
    }

    .mega-menu {
      min-width: 90vw;
    }
  }

  @media (max-width: 768px) {
    .navbar-container {
      height: 70px;
    }

    .logo-text {
      font-size: 22px;
    }

    .logo-icon {
      width: 40px;
      height: 40px;
      font-size: 20px;
    }

    .action-btn {
      width: 40px;
      height: 40px;
      font-size: 18px;
    }

    .cta-button {
      display: none;
    }
  }

  /* ========================================
     ✨ PREMIUM ANIMATIONS
  ======================================== */
  @keyframes fade-slide-in {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes glow-pulse {
    0%, 100% {
      box-shadow: 0 0 20px rgba(0, 122, 255, 0.3);
    }
    50% {
      box-shadow: 0 0 40px rgba(0, 122, 255, 0.6);
    }
  }
</style>

<!-- ========================================
     🏆 PREMIUM MASTER NAVBAR HTML
======================================== -->

<!-- Announcement Bar -->
<div class="premium-announcement-bar">
  <div class="announcement-content">
    <span class="announcement-icon">🔥</span>
    <span>{{ section.settings.announcement_text | default: 'FREE SHIPPING ON ORDERS OVER $75 | NEW ARRIVALS WEEKLY' }}</span>
    <span class="announcement-icon">⚡</span>
  </div>
</div>

<!-- Main Navigation -->
<nav class="premium-master-navbar" id="mainNavbar">
  <div class="navbar-container">
    <!-- Logo -->
    <a href="{{ routes.root_url }}" class="navbar-logo">
      {% if section.settings.logo != blank %}
        <img src="{{ section.settings.logo | image_url: width: 50 }}" alt="{{ shop.name }}" width="50" height="50" class="logo-icon">
      {% else %}
        <div class="logo-icon">💪</div>
      {% endif %}
      <span class="logo-text">{{ shop.name }}</span>
    </a>

    <!-- Desktop Menu -->
    <ul class="navbar-menu">
      {% for link in linklists[section.settings.menu].links %}
        <li class="nav-item">
          <a href="{{ link.url }}" class="nav-link {% if link.active %}active{% endif %}">
            {{ link.title }}
            {% if link.links.size > 0 %}
              <span>▾</span>
            {% endif %}
          </a>

          {% if link.links.size > 0 %}
            <div class="mega-menu">
              <div class="mega-menu-grid">
                {% assign columns_size = link.links.size | divided_by: 3 | plus: 1 %}
                {% for i in (1..3) %}
                  <div class="mega-menu-column">
                    <h4>Category {{ i }}</h4>
                    <ul class="mega-menu-links">
                      {% for sublink in link.links limit: columns_size offset: forloop.index0 %}
                        <li><a href="{{ sublink.url }}">{{ sublink.title }}</a></li>
                      {% endfor %}
                    </ul>
                  </div>
                {% endfor %}
              </div>
            </div>
          {% endif %}
        </li>
      {% endfor %}
    </ul>

    <!-- Action Buttons -->
    <div class="navbar-actions">
      <a href="{{ routes.search_url }}" class="action-btn" aria-label="Search">
        🔍
      </a>
      <a href="{{ routes.account_url }}" class="action-btn" aria-label="Account">
        👤
      </a>
      <a href="{{ routes.cart_url }}" class="action-btn" aria-label="Cart">
        🛒
        <span class="cart-count" id="cartCount">{{ cart.item_count }}</span>
      </a>
      <a href="{{ routes.collections_url }}" class="cta-button">
        Shop Now
      </a>
    </div>

    <!-- Mobile Menu Toggle -->
    <button class="mobile-menu-toggle" aria-label="Menu">
      <span></span>
      <span></span>
      <span></span>
    </button>
  </div>
</nav>

<!-- Scroll Effect Script -->
<script>
  window.addEventListener('scroll', function() {
    const navbar = document.getElementById('mainNavbar');
    if (window.scrollY > 50) {
      navbar.classList.add('navbar-scrolled');
    } else {
      navbar.classList.remove('navbar-scrolled');
    }
  });
</script>

{% schema %}
{
  "name": "Premium Master Navbar",
  "tag": "header",
  "class": "premium-master-header",
  "settings": [
    {
      "type": "text",
      "id": "announcement_text",
      "label": "Announcement Text",
      "default": "FREE SHIPPING ON ORDERS OVER $75 | NEW ARRIVALS WEEKLY"
    },
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo Image"
    },
    {
      "type": "link_list",
      "id": "menu",
      "label": "Navigation Menu",
      "default": "main-menu"
    }
  ],
  "presets": [
    {
      "name": "Premium Master Navbar"
    }
  ]
}
{% endschema %}
