{%- comment -%}
Badges by logic:
- New: published within last 30 days
- Bestseller: product has tag 'bestseller'
- Free shipping: price >= threshold (section setting)
Requires: include with variables product and threshold
{%- endcomment -%}
{% capture now %}{{ 'now' | date: '%s' }}{% endcapture %}
{% capture published %}{{ product.published_at | date: '%s' }}{% endcapture %}
{% assign age = now | minus: published %}
{% assign days = age | divided_by: 86400 %}

<div style="position:absolute;left:10px;top:10px;display:flex;gap:6px;flex-wrap:wrap">
  {% if days < 30 %}
    <span class="badge badge--accent">New</span>
  {% endif %}
  {% if product.tags contains 'bestseller' %}
    <span class="badge badge--dark">Bestseller</span>
  {% endif %}
  {% if threshold and product.price >= threshold %}
    <span class="badge badge--dark">Free Shipping</span>
  {% endif %}
</div>
